<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Client Website Simulation - SmartPixl Test</title>
    <style>
        body { font-family: system-ui, sans-serif; max-width: 800px; margin: 50px auto; padding: 20px; }
        h1 { color: #333; }
        .script-box { background: #f5f5f5; padding: 15px; border-radius: 8px; margin: 20px 0; }
        .script-box h3 { margin-top: 0; }
        pre { background: #1e1e1e; color: #d4d4d4; padding: 15px; border-radius: 4px; overflow-x: auto; font-size: 13px; }
        .success { color: green; font-weight: bold; }
        .info { background: #e3f2fd; padding: 10px; border-radius: 4px; margin: 10px 0; }
        button { background: #4CAF50; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; margin: 5px; }
        button:hover { background: #45a049; }
        #results { margin-top: 20px; }
        table { border-collapse: collapse; width: 100%; margin-top: 10px; }
        td, th { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background: #4CAF50; color: white; }
    </style>
</head>
<body>
    <h1>ðŸŽ¯ SmartPixl Client Website Simulation</h1>
    
    <p>This page simulates what a client's website would look like with the SmartPixl tracking pixel installed.</p>
    
    <div class="script-box">
        <h3>Tier 1: Basic IMG Tag (Headers Only)</h3>
        <pre>&lt;img src="http://localhost:5000/12346/00009_Client_SMART.GIF" style="display:none!important"/&gt;</pre>
        <button onclick="fireTier1()">Fire Tier 1 Pixel</button>
    </div>
    
    <div class="script-box">
        <h3>Tier 2: Enhanced Script (Headers + Client Data)</h3>
        <pre>&lt;script&gt;
(function(){
  var d=new Date(),s=screen,n=navigator;
  new Image().src="http://localhost:5000/12346/00009_Client_SMART.GIF?"
    +"sw="+s.width+"&amp;sh="+s.height+"&amp;cd="+s.colorDepth
    +"&amp;pd="+(window.devicePixelRatio||1)
    +"&amp;tz="+encodeURIComponent(Intl.DateTimeFormat().resolvedOptions().timeZone)
    +"&amp;tzo="+d.getTimezoneOffset()
    +"&amp;lang="+(n.language||"")+"&amp;plt="+(n.platform||"")
    +"&amp;cores="+(n.hardwareConcurrency||"")
    +"&amp;mem="+(n.deviceMemory||"")
    +"&amp;touch="+("ontouchstart"in window?1:0)
    +"&amp;url="+encodeURIComponent(location.href)
    +"&amp;ref="+encodeURIComponent(document.referrer);
})();
&lt;/script&gt;</pre>
        <button onclick="fireTier2()">Fire Tier 2 Pixel</button>
    </div>
    
    <div id="results"></div>
    
    <h2>Debug: Your Browser Info</h2>
    <div class="info">
        <table>
            <tr><th>Property</th><th>Value</th></tr>
            <tr><td>Screen</td><td id="dbg-screen"></td></tr>
            <tr><td>Color Depth</td><td id="dbg-color"></td></tr>
            <tr><td>Pixel Ratio</td><td id="dbg-ratio"></td></tr>
            <tr><td>Timezone</td><td id="dbg-tz"></td></tr>
            <tr><td>Language</td><td id="dbg-lang"></td></tr>
            <tr><td>Platform</td><td id="dbg-platform"></td></tr>
            <tr><td>CPU Cores</td><td id="dbg-cores"></td></tr>
            <tr><td>Device Memory</td><td id="dbg-mem"></td></tr>
            <tr><td>Touch Support</td><td id="dbg-touch"></td></tr>
            <tr><td>User Agent</td><td id="dbg-ua"></td></tr>
        </table>
    </div>

    <script>
        // Populate debug info
        document.getElementById('dbg-screen').textContent = screen.width + ' x ' + screen.height;
        document.getElementById('dbg-color').textContent = screen.colorDepth;
        document.getElementById('dbg-ratio').textContent = window.devicePixelRatio || 1;
        document.getElementById('dbg-tz').textContent = Intl.DateTimeFormat().resolvedOptions().timeZone;
        document.getElementById('dbg-lang').textContent = navigator.language;
        document.getElementById('dbg-platform').textContent = navigator.platform;
        document.getElementById('dbg-cores').textContent = navigator.hardwareConcurrency || 'N/A';
        document.getElementById('dbg-mem').textContent = (navigator.deviceMemory || 'N/A') + ' GB';
        document.getElementById('dbg-touch').textContent = ('ontouchstart' in window) ? 'Yes' : 'No';
        document.getElementById('dbg-ua').textContent = navigator.userAgent;
        
        function fireTier1() {
            var img = new Image();
            img.onload = function() { showResult('Tier 1 pixel fired successfully!', true); };
            img.onerror = function() { showResult('Tier 1 pixel fired (server may return non-image)', true); };
            img.src = 'http://localhost:5000/12346/00009_Tier1_SMART.GIF?t=' + Date.now();
        }
        
        function fireTier2() {
            var d = new Date(), s = screen, n = navigator;
            var img = new Image();
            img.onload = function() { showResult('Tier 2 pixel fired with enhanced data!', true); };
            img.onerror = function() { showResult('Tier 2 pixel fired (server may return non-image)', true); };
            img.src = 'http://localhost:5000/12346/00009_Tier2_SMART.GIF?'
                + 'sw=' + s.width + '&sh=' + s.height + '&cd=' + s.colorDepth
                + '&pd=' + (window.devicePixelRatio || 1)
                + '&tz=' + encodeURIComponent(Intl.DateTimeFormat().resolvedOptions().timeZone)
                + '&tzo=' + d.getTimezoneOffset()
                + '&lang=' + (n.language || '') + '&plt=' + (n.platform || '')
                + '&cores=' + (n.hardwareConcurrency || '')
                + '&mem=' + (n.deviceMemory || '')
                + '&touch=' + (('ontouchstart' in window) ? 1 : 0)
                + '&url=' + encodeURIComponent(location.href)
                + '&ref=' + encodeURIComponent(document.referrer)
                + '&t=' + Date.now();
        }
        
        function showResult(msg, success) {
            var div = document.getElementById('results');
            div.innerHTML = '<p class="' + (success ? 'success' : '') + '">' + msg + ' (' + new Date().toLocaleTimeString() + ')</p>' + div.innerHTML;
        }
        
        // Auto-fire Tier 2 on page load (simulating what the real script would do)
        fireTier2();
        showResult('Page loaded - Tier 2 pixel auto-fired', true);
    </script>
</body>
</html>
