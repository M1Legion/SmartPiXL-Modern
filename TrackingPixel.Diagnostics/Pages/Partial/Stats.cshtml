@page "/partial/stats"
@using TrackingPixel.Diagnostics.Services
@inject MetricsService Metrics

@{
    Layout = null;
    var stats = await Metrics.GetSummaryStatsAsync();
}

<div class="stat-card">
    <div class="value">@stats.TotalHits.ToString("N0")</div>
    <div class="label">Total Hits</div>
</div>
<div class="stat-card">
    <div class="value">@stats.UniqueDevices.ToString("N0")</div>
    <div class="label">Unique Devices</div>
</div>
<div class="stat-card">
    <div class="value">@stats.Last24HourHits.ToString("N0")</div>
    <div class="label">Last 24h</div>
</div>
<div class="stat-card">
    <div class="value">@stats.LastHourHits</div>
    <div class="label">Last Hour</div>
</div>
<div class="stat-card @(stats.BotRate > 25 ? "danger" : stats.BotRate > 10 ? "warning" : "")">
    <div class="value">@stats.BotRate%</div>
    <div class="label">Bot Rate</div>
</div>
<div class="stat-card @(stats.EvasionRate > 1 ? "warning" : "")">
    <div class="value">@stats.EvasionRate%</div>
    <div class="label">Evasion Rate</div>
</div>
<div class="stat-card success">
    <div class="value">@stats.CrossNetworkDevices</div>
    <div class="label">Cross-Network</div>
</div>
